import{j as r,c as p,B as g}from"./index-DMweCBmW.js";import{r as u}from"./ui-lv_4gw6c.js";import"./vendor-Dq4_9Ozi.js";const b=new Map,x=3e4,f={simulateDelay:1200,cooldownMs:x};async function j(e,s={}){const{simulateDelay:a,cooldownMs:l}={...f,...s};if(e.company&&e.company.trim().length>0)return{ok:!0,id:"honeypot-suppressed",receivedAt:Date.now()};const o=Date.now(),c=b.get(e.email)||0;return o-c<l?{ok:!1,error:"Please wait a moment before sending another message.",receivedAt:o}:(b.set(e.email,o),await new Promise(n=>setTimeout(n,a)),{ok:!0,id:"contact_"+Math.random().toString(36).slice(2,10),receivedAt:Date.now()})}function y(e,s=x){const a=b.get(e)||0;return Date.now()-a>=s}const v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,w=1500,N=10,S=3e4;function k(e){const s={};return e.name.trim()||(s.name="Name is required"),e.email.trim()?v.test(e.email)||(s.email="Invalid email"):s.email="Email is required",e.message.trim()?e.message.length<N?s.message="Too short":e.message.length>w&&(s.message="Too long"):s.message="Message is required",e.subject&&e.subject.length>120&&(s.subject="Subject too long"),s}function C(e={}){const[s,a]=u.useState({name:"",email:"",subject:"",message:"",company:"",status:"idle",errors:{}}),l=u.useCallback((n,m)=>{a(t=>({...t,[n]:m}))},[]),o=u.useCallback(()=>{a({name:"",email:"",subject:"",message:"",company:"",status:"idle",errors:{}})},[]),c=u.useCallback(async()=>{if(s.status==="submitting")return;a(i=>({...i,status:"validating"}));const n=k(s);if(Object.keys(n).length)return a(i=>({...i,errors:n,status:"error"})),{ok:!1,error:"Validation failed",receivedAt:Date.now()};if(!y(s.email,S)){const i="Please wait before sending another message.";return a(h=>({...h,status:"error",errors:{email:i}})),{ok:!1,error:i,receivedAt:Date.now()}}a(i=>({...i,status:"submitting",errors:{}}));const{name:m,email:t,subject:M,message:E}=s,d=await j({email:t});return d.ok?(a(i=>({...i,status:"success"})),e.onSuccess?.(d),setTimeout(()=>o(),2e3)):(a(i=>({...i,status:"error"})),e.onError?.(d.error||"Unknown error")),d},[s,e,o]);return{state:s,update:l,submit:c,reset:o,isSubmitting:s.status==="submitting",isSuccess:s.status==="success",isError:s.status==="error"}}const q=()=>{const{state:e,update:s,submit:a,isSubmitting:l,isSuccess:o,isError:c}=C(),n=t=>{t&&window.open(t,"_blank")},m=async t=>{t.preventDefault(),await a()};return r.jsx("section",{id:"contact",className:"py-20 px-4 relative bg-grid-pattern","aria-labelledby":"contact-heading",role:"contentinfo",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h2",{id:"contact-heading",className:"text-4xl font-bold mb-16 text-center text-blue-400",children:"Get In Touch"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:p.map(t=>r.jsxs("div",{className:"bg-gray-700 p-6 rounded-xl hover:bg-gray-600 transition-colors duration-300 cursor-pointer",onClick:()=>n(t.url),children:[r.jsx("div",{className:"text-3xl mb-3",children:t.icon}),r.jsx("h3",{className:"font-semibold mb-2",children:t.label}),r.jsx("p",{className:"text-gray-300",children:t.value})]},t.type))}),r.jsxs("div",{className:"max-w-2xl mx-auto mb-16","aria-labelledby":"contact-form-heading",children:[r.jsx("h3",{id:"contact-form-heading",className:"text-2xl font-semibold mb-8 text-center",children:"Send a Message"}),r.jsxs("div",{className:"mb-6","aria-live":"polite","aria-atomic":"true",children:[o&&r.jsx("div",{className:"bg-green-600 text-white p-4 rounded-lg text-center",role:"alert",children:"Message sent successfully! I'll get back to you soon."}),c&&Object.keys(e.errors).length>0&&r.jsx("div",{className:"bg-red-600 text-white p-4 rounded-lg text-center",role:"alert",children:"Please fix the errors below and try again."})]}),r.jsxs("form",{onSubmit:m,className:"space-y-6",noValidate:!0,"aria-describedby":"form-instructions",role:"form",children:[r.jsx("p",{id:"form-instructions",className:"sr-only",children:"Fields marked with * are required."}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:"Name *"}),r.jsx("input",{type:"text",id:"name",value:e.name,onChange:t=>s("name",t.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors",placeholder:"Your full name",required:!0,"aria-invalid":!!e.errors.name,"aria-describedby":e.errors.name?"name-error":void 0}),e.errors.name&&r.jsx("p",{id:"name-error",className:"text-red-400 text-sm mt-1",children:e.errors.name})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Email *"}),r.jsx("input",{type:"email",id:"email",value:e.email,onChange:t=>s("email",t.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors",placeholder:"your.email@example.com",required:!0,"aria-invalid":!!e.errors.email,"aria-describedby":e.errors.email?"email-error":void 0}),e.errors.email&&r.jsx("p",{id:"email-error",className:"text-red-400 text-sm mt-1",children:e.errors.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium mb-2",children:"Subject"}),r.jsx("input",{type:"text",id:"subject",value:e.subject,onChange:t=>s("subject",t.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors",placeholder:"What's this about?","aria-invalid":!!e.errors.subject,"aria-describedby":e.errors.subject?"subject-error":void 0}),e.errors.subject&&r.jsx("p",{id:"subject-error",className:"text-red-400 text-sm mt-1",children:e.errors.subject})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-2",children:"Message *"}),r.jsx("textarea",{id:"message",value:e.message,onChange:t=>s("message",t.target.value),rows:6,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors resize-vertical",placeholder:"Tell me about your project, question, or just say hi!",required:!0,"aria-invalid":!!e.errors.message,"aria-describedby":e.errors.message?"message-error":void 0}),e.errors.message&&r.jsx("p",{id:"message-error",className:"text-red-400 text-sm mt-1",children:e.errors.message})]}),r.jsx("input",{type:"text",value:e.company,onChange:t=>s("company",t.target.value),style:{display:"none"},tabIndex:-1,autoComplete:"off"}),r.jsx(g,{type:"submit",variant:"primary",disabled:l,className:"w-full",children:l?"Sending...":"Send Message"})]})]}),r.jsx("div",{className:"text-center",children:r.jsx(g,{variant:"secondary",onClick:()=>{alert("Resume download will be implemented with actual resume file")},children:"Download Resume"})})]})})};export{q as ContactSection};
//# sourceMappingURL=ContactSection-Cu4cD6FE.js.map
