import{r as u}from"./ui-lv_4gw6c.js";const g=()=>{const[t,n]=u.useState({isLowEnd:!1,connectionSpeed:"unknown",reducedMotion:!1,shouldReduceAnimations:!1});return u.useEffect(()=>{const o=()=>{const a=window.matchMedia("(prefers-reduced-motion: reduce)").matches,e=window.navigator,m=e.deviceMemory||4,c=e.connection||e.mozConnection||e.webkitConnection,s=c?c.effectiveType==="slow-2g"||c.effectiveType==="2g"?"slow":"fast":"unknown",d=m<2||s==="slow"||e.hardwareConcurrency<4,f=t.memory?{totalJSHeapSize:t.memory.totalJSHeapSize,usedJSHeapSize:t.memory.usedJSHeapSize,jsHeapSizeLimit:t.memory.jsHeapSizeLimit}:void 0;n({isLowEnd:d,memoryInfo:f,connectionSpeed:s,reducedMotion:a,shouldReduceAnimations:d||a})};o();const i=window.matchMedia("(prefers-reduced-motion: reduce)"),r=()=>o();return i.addEventListener("change",r),()=>i.removeEventListener("change",r)},[]),t},h=()=>{const[t,n]=u.useState(60),[o,i]=u.useState(!0);return u.useEffect(()=>{let r=0,a=performance.now(),e=[];const m=()=>{r++;const s=performance.now();if(s>=a+1e3){const d=Math.round(r*1e3/(s-a));e.push(d),e.length>10&&(e=e.slice(-10));const f=e.reduce((l,p)=>l+p,0)/e.length;n(Math.round(f)),i(f>30),r=0,a=s}requestAnimationFrame(m)},c=requestAnimationFrame(m);return()=>cancelAnimationFrame(c)},[]),{fps:t,isStable:o}},S=()=>{const t=g(),{fps:n,isStable:o}=h();return{...t,fps:n,isStable:o,config:t.shouldReduceAnimations||!o||n<30?{duration:.3,particles:!1,heavyEffects:!1,staggerDelay:.05,quality:"low"}:t.isLowEnd||n<50?{duration:.4,particles:!1,heavyEffects:!1,staggerDelay:.08,quality:"medium"}:{duration:.6,particles:!0,heavyEffects:!0,staggerDelay:.1,quality:"high"}}};export{S as u};
//# sourceMappingURL=useDevicePerformance-Wloqg_hY.js.map
